<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Home - natelevison.com</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        />
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="./global/components/globalComponents.css" />
    </head>
    <script src="./global/components/my-nav.js"></script>
    <script src="./global/components/my-foot.js"></script>
    <body>
        <header>
            <my-nav root="./" selected-index=0></my-nav>
        </header>
        <main>
            <h2>Welcome to Nate Levison's Homepage!</h2> 
            <hr>
            <div class="up30">+30</div>
        </main>

        <my-foot root="./"></my-foot>

    </body>
    <script>
        function konamiAward() {
            const awardspan = document.querySelector(".up30");
            const animation = awardspan.animate(
                [{ opacity: 1 }, { opacity: 0, transform: "translateY(50px)" }],
                { duration: 1000, fill: "forwards" }
            )
            animation.onfinish = () => {
                awardspan.animate(
                    [{ opacity: 0, transform: "translateY(0px)" }],
                    { duration: 1, fill: "forwards" }
                )
            }
        }
        function leviAward() {
            window.open("https://LeviServer.VictorUrumov.repl.co/", "_blank");
        }
        
        let keys = []
        const konamiCode = "ArrowUp ArrowUp ArrowDown ArrowDown ArrowLeft ArrowRight ArrowLeft ArrowRight b a".split(" ");
        const leviCode = "stfuattdlagg".split("");
        
        const code = leviCode;
        const award = leviAward;

        document.addEventListener("keyup", (event) => {
            const key = event.key;
            // submit the current code
            if(key === "Enter") {
                if(keys.length == code.length && keys.every((key, idx) => key === code[idx])) {
                    award();
                } else keys = [];
            } else {

                keys.push(key);
                if(keys.length > code.length) keys.shift();

            }
            console.log(keys.join(""))
        })
    </script>
    <style>
        .up30 {
            color: green;
            opacity: 0;
        }
    </style>
</html>
